//-*-c++-*-
//=============================================================================
//
// Copyright (c) XXXX-XXXX
// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception
//
//=============================================================================

/**
 * @brief Defines all CORE OPCODE in this file with the following format:
 *   DEF_OPCODE(NAME, name, category, kid_num, fld_num, property)
 *
 */

#ifndef DEF_OP_BLOCK
#define DEF_OP_BLOCK(NAME, name, category, kid_num, fld_num, property) \
  DEF_OPCODE(NAME, name, category, kid_num, fld_num, property)
#endif

DEF_OPCODE(INVALID, invalid, OPR_CAT::EXPR, 0, 0, 0)
DEF_OPCODE(END_STMT_LIST, end_stmt_list, OPR_CAT::CFLOW, 0, 0, PROP_STMT | PROP_END_BB)
DEF_OPCODE(VOID, void, OPR_CAT::STMT, 0, 0, 0)
DEF_OP_BLOCK(BLOCK, block, OPR_CAT::CFLOW, 0, 2, PROP_SCF)
DEF_OPCODE(ADD, add, OPR_CAT::EXPR, 2, 0, PROP_EXPR)
DEF_OPCODE(SUB, sub, OPR_CAT::EXPR, 2, 0, PROP_EXPR)
DEF_OPCODE(MUL, mul, OPR_CAT::EXPR, 2, 0, PROP_EXPR)
DEF_OPCODE(SHL, shl, OPR_CAT::EXPR, 2, 0, PROP_EXPR)
DEF_OPCODE(ASHR, ashr, OPR_CAT::EXPR, 2, 0, PROP_EXPR)
DEF_OPCODE(LSHR, lshr, OPR_CAT::EXPR, 2, 0, PROP_EXPR)
DEF_OPCODE(EQ, eq, OPR_CAT::EXPR, 2, 0, PROP_EXPR | PROP_COMPARE)
DEF_OPCODE(NE, ne, OPR_CAT::EXPR, 2, 0, PROP_EXPR | PROP_COMPARE)
DEF_OPCODE(LT, lt, OPR_CAT::EXPR, 2, 0, PROP_EXPR | PROP_COMPARE)
DEF_OPCODE(LE, le, OPR_CAT::EXPR, 2, 0, PROP_EXPR | PROP_COMPARE)
DEF_OPCODE(GT, gt, OPR_CAT::EXPR, 2, 0, PROP_EXPR | PROP_COMPARE)
DEF_OPCODE(GE, ge, OPR_CAT::EXPR, 2, 0, PROP_EXPR | PROP_COMPARE)
DEF_OPCODE(LD, ld, OPR_CAT::LDST, 0, 2, PROP_EXPR | PROP_ATTR | PROP_LOAD | PROP_SYM | PROP_ACC_TYPE)
DEF_OPCODE(ILD, ild, OPR_CAT::LDST, 1, 2, PROP_EXPR | PROP_ATTR | PROP_LOAD | PROP_ACC_TYPE)
DEF_OPCODE(LDF, ldf, OPR_CAT::LDST, 0, 3, PROP_EXPR | PROP_LOAD | PROP_SYM | PROP_ACC_TYPE | PROP_FIELD_ID)
DEF_OPCODE(LDO, ldo, OPR_CAT::LDST, 0, 4, PROP_EXPR | PROP_LOAD | PROP_SYM | PROP_ACC_TYPE | PROP_OFFSET)
DEF_OPCODE(LDP, ldp, OPR_CAT::LDST, 0, 2, PROP_EXPR | PROP_ATTR | PROP_LOAD | PROP_PREG | PROP_ACC_TYPE)
DEF_OPCODE(LDPF, ldpf, OPR_CAT::LDST, 0, 3, PROP_EXPR | PROP_LOAD | PROP_PREG | PROP_ACC_TYPE | PROP_FIELD_ID)
DEF_OPCODE(LDC, ldc, OPR_CAT::EXPR, 0, 1, PROP_EXPR | PROP_CONST_ID)
DEF_OPCODE(LDA, lda, OPR_CAT::EXPR, 0, 1, PROP_EXPR | PROP_SYM)
DEF_OPCODE(LDCA, ldca, OPR_CAT::EXPR, 0, 1, PROP_EXPR | PROP_CONST_ID)
DEF_OPCODE(FUNC_ENTRY, func_entry, OPR_CAT::ENTRY, 1, 1, PROP_SCF | PROP_ENTRY | PROP_EX_CHILD)
DEF_OPCODE(IDNAME, idname, OPR_CAT::EXPR, 0, 1, PROP_EXPR | PROP_ATTR | PROP_SYM)
DEF_OPCODE(ST, st, OPR_CAT::LDST, 1, 2, PROP_STMT | PROP_STORE | PROP_ATTR | PROP_SYM | PROP_ACC_TYPE | PROP_ATTR)
DEF_OPCODE(IST, ist, OPR_CAT::LDST, 2, 2, PROP_STMT | PROP_STORE | PROP_ATTR | PROP_ACC_TYPE)
DEF_OPCODE(STF, stf, OPR_CAT::LDST, 1, 3, PROP_STMT | PROP_STORE | PROP_SYM | PROP_ACC_TYPE | PROP_FIELD_ID)
DEF_OPCODE(STO, sto, OPR_CAT::LDST, 1, 4, PROP_STMT | PROP_STORE | PROP_SYM | PROP_ACC_TYPE | PROP_OFFSET)
DEF_OPCODE(STP, stp, OPR_CAT::LDST, 1, 2, PROP_STMT | PROP_STORE | PROP_ATTR | PROP_PREG | PROP_ACC_TYPE)
DEF_OPCODE(STPF, stpf, OPR_CAT::LDST, 1, 3, PROP_STMT | PROP_STORE | PROP_PREG | PROP_ACC_TYPE | PROP_FIELD_ID)
DEF_OPCODE(ENTRY, entry, OPR_CAT::ENTRY, 0, 2, PROP_SCF)
DEF_OPCODE(RET, ret, OPR_CAT::STMT, 0, 0, PROP_STMT)
DEF_OPCODE(RETV, retv, OPR_CAT::STMT, 1, 0, PROP_STMT)
DEF_OPCODE(PRAGMA, pragma, OPR_CAT::PRAGMA, 0, 0, PROP_STMT | PROP_LEAF | PROP_SYM | PROP_VALUE)
DEF_OPCODE(CALL, call, OPR_CAT::CALL, 0, 3, PROP_STMT | PROP_CALL | PROP_ENTRY | PROP_RET_VAR | PROP_FLAGS | PROP_EX_CHILD | PROP_ATTR)
DEF_OPCODE(DO_LOOP, do_loop, OPR_CAT::CFLOW, 4, 1, PROP_SCF)
DEF_OPCODE(INTCONST, intconst, OPR_CAT::EXPR, 0, 2, PROP_EXPR)
DEF_OPCODE(ZERO, zero, OPR_CAT::EXPR, 0, 0, PROP_EXPR)
DEF_OPCODE(ONE, one, OPR_CAT::EXPR, 0, 0, PROP_EXPR)
DEF_OPCODE(IF, if, OPR_CAT::CFLOW, 3, 0, PROP_SCF)
DEF_OPCODE(ARRAY, array, OPR_CAT::EXPR, 1, 0, PROP_EXPR | PROP_EX_CHILD)
DEF_OPCODE(VALIDATE, validate, OPR_CAT::STMT, 4, 0, PROP_STMT | PROP_LIB_CALL)
DEF_OPCODE(TM_START, tm_start, OPR_CAT::STMT, 0, 1, PROP_STMT | PROP_LIB_CALL | PROP_CONST_ID)
DEF_OPCODE(TM_TAKEN, tm_taken, OPR_CAT::STMT, 0, 1, PROP_STMT | PROP_LIB_CALL | PROP_CONST_ID)
DEF_OPCODE(DUMP_VAR, dump_var, OPR_CAT::STMT, 3, 0, PROP_STMT | PROP_LIB_CALL)

#undef DEF_OP_BLOCK
